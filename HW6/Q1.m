clc
clear
close all
%%

x = [30/1000;0;0];
y = [20/1000;20/1000;0];

B = [y(2)-y(3), 0, y(3)-y(1), 0, y(1)-y(2),0;
     0, x(3)-x(2), 0, x(1)-x(3), 0, x(2)-x(1);
     x(3)-x(2), y(2)-y(3), x(1)-x(3), y(3)-y(1), x(2)-x(1), y(1)-y(2)];

B = B.*(1/((x(1)-x(3))*(y(2)-y(3)) - (x(2)-x(3)).*(y(1)-y(3)) ));

B = B(:,1:2);

E = 70000E6;
v = 0.3;

D = E./(1-v^2)*[1, v, 0;
                v, 1, 0;
                0, 0, (1-v)/2];
A = 1/2*(30/1000*20/1000);
t = 10/1000;


K = B'*D*B*A*t;

F_local = [50;-100];

q = K\F_local

%% Part B
B = [y(2)-y(3), 0, y(3)-y(1), 0, y(1)-y(2),0;
     0, x(3)-x(2), 0, x(1)-x(3), 0, x(2)-x(1);
     x(3)-x(2), y(2)-y(3), x(1)-x(3), y(3)-y(1), x(2)-x(1), y(1)-y(2)];

B = B.*(1/((x(1)-x(3))*(y(2)-y(3)) - (x(2)-x(3)).*(y(1)-y(3)) ));

tau = D*B*[q;0;0;0;0]
